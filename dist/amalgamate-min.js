!function(){function a(b,c){for(var d,e,f=[],g=b.split("/"),h=0;null!=(e=g[h++]);)".."==e?f.pop():"."!=e&&f.push(e);if(f=f.join("/"),h=a,e=h.m[c||0],d=e[f+".js"]||e[f+"/index.js"]||e[f],g='Cannot require("'+f+'")',!d)throw Error(g);if((e=d.c)&&(d=h.m[c=e][b=d.m]),!d)throw Error(g);return d.exports||d(d,d.exports={},function(a){return h("."!=a.charAt(0)?a:b+"/../"+a,c)}),d.exports}a.m=[],a.m[0]={"index.js":function(a,b,c){runtime=c("./src/runtime.js"),a.exports={compile:c("./src/compiler.js").compile,render:runtime.render,load:runtime.load}},"src/compiler.js":function(a,b,c){var d=(c("./runtime.js"),{replace:function(a){var b=a.split("|"),c=b[0],d=b.slice(1),e=c.split(".");return{op:"replace",data:{name:e,filters:d}}},array:function(a,b){return{op:"array",data:{array:a,tpl:b}}},object:function(a,b){var c=a.split("|"),d=c[0],e=c.slice(1);return{op:"object",data:{object:d,tpl:b,filters:e}}},ifSo:function(a,b,c){return{op:"ifSo",data:{name:a,tpl:b,elseTpl:c}}},ifNot:function(a,b,c){return{op:"ifNot",data:{name:a,tpl:b,elseTpl:c}}}}),e=function(){var a=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];c.push("string"==typeof f?f:b[f])}return c.join("")},b=function(){var b=Array.prototype.slice.call(arguments,0);return function(c,d){var e=a(b,d),f=c.indexOf(e);return-1===f?[c,""]:[c.slice(0,f),c.slice(f)]}},c=function(){var b=Array.prototype.slice.call(arguments,0);return function(c,d){var e=a(b,d);return 0===c.indexOf(e)?["",c.slice(e.length)]:!1}},f=function(a){return function(b){return-1===a.indexOf(b.slice(0,1))?[b.slice(0,1),b.slice(1)]:!1}},g=function(a){var b=e(a,!0);return b.partial?[b.instructions,b.leftovers]:[b,""]},h=function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b},i=function(a,d,e){var f;return f=e?[c("{{"+a),b("}}"),c("}}"),g,c("{{:else}}"),g,c("{{/"),b("}}"),c("}}")]:[c("{{"+a),b("}}"),c("}}"),g,c("{{/"),b("}}"),c("}}")],{rule:f,parse:function(a){var b,c=h(a[3]);return e&&(console.log(a[5]),b=h(a[5])),d(a[1],c,b)}}},j=[i("#",d.array),i("@",d.object),i("?",d.ifSo),i("?",d.ifSo,!0),i("^",d.ifNot),i("^",d.ifNot,!0),{rule:[c("{{"),f("#@?^/:"),b("}}"),c("}}")],parse:function(a){return d.replace(a[1]+a[2])}},{rule:[b("{{")],parse:function(a){return a[0]}}];return function(a,b){for(var c=[],d=j.length,e=null;a.length&&a.length!=e;){e=a.length;a:for(var f=0;d>f;f++){for(var g=j[f],h=a,i=[],k=0,l=g.rule.length;l>k;k++){var m=g.rule[k](h,i);if(m===!1)continue a;i.push(m[0]),h=m[1]}c.push(g.parse(i)),a=h;break}}return b&&a.length?{partial:!0,instructions:c,leftovers:a}:c}}();a.exports={compile:e,builders:d}},"src/runtime.js":function(a){var b,c,d,e,f,g;replace_regex=/[&<>]/g,f={"<":"&lt;",">":"&gt;","&":"&amp;"},g=function(a){return replaceChars[a]},e=function(a){return replace_regex.test(a)?(""+a).replace(replace_regex,g):a};var h=function(a,b,c){for(var d=0,e=c.length;e>d;d++)a=b[c[d]](a);return a};b={replace:function(a,b){for(var c=a,d=b.name,f=0,g=d.length;g>f;f++)c=c&&c[d[f]];return b.filters.length&&(c=h(c,a,b.filters)),e(c)},array:function(a,b){for(var d=a[b.array],e=d.length,f=new Array(e),g=0;e>g;g++)f[g]=c(b.tpl,d[g]);return[].concat.apply([],f).join("")},object:function(a,b){return d(b.tpl,h(a[b.object],a,b.filters))},ifSo:function(a,b){return a[b.name]&&d(b.tpl,a)||b.elseTpl&&d(b.elseTpl,a)||""},ifNot:function(a,b){return!a[b.name]&&d(b.tpl,a)||b.elseTpl&&d(b.elseTpl,a)||""}},c=function(a,b){for(var c=a.length,d=new Array(c),e=0;c>e;e++){var f=a[e];d[e]="object"==typeof f?f.op(b,f.data):f}return d},d=function(a,b){return 1==a.length&&"string"==typeof a[0]?a[0]:c(a,b).join("")},load=function(a){for(var c=[],d=0,e=a.length;e>d;d++)if("object"==typeof a[d]){var f=a[d],g=b[f.op];if(f.data&&f.data.tpl){var h={};for(var i in f.data)h[i]=f.data[i];h.tpl=load(h.tpl),h.elseTpl&&(h.elseTpl=load(h.elseTpl)),c.push({op:g,data:h})}else c.push({op:g,data:f.data})}else c.push(a[d]);return c},a.exports={render:d,load:load}}},Amalgamate=a("index.js")}();